api-1  | INFO:     Started server process [1]
api-1  | INFO:     Waiting for application startup.
api-1  | INFO:     Application startup complete.
api-1  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
api-1  | 188678
api-1  | INFO:     172.20.0.1:52370 - "POST /api/v1/auth/email/send-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:50546 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 500 Internal Server Error
api-1  | ERROR:    Exception in ASGI application
api-1  | Traceback (most recent call last):
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 510, in _prepare_and_execute
api-1  |     prepared_stmt, attributes = await adapt_connection._prepare(
api-1  |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 756, in _prepare
api-1  |     prepared_stmt = await self._connection.prepare(
api-1  |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/asyncpg/connection.py", line 635, in prepare
api-1  |     return await self._prepare(
api-1  |            ^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/asyncpg/connection.py", line 653, in _prepare
api-1  |     stmt = await self._get_statement(
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/asyncpg/connection.py", line 432, in _get_statement
api-1  |     statement = await self._protocol.prepare(
api-1  |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "asyncpg/protocol/protocol.pyx", line 165, in prepare
api-1  | asyncpg.exceptions.UndefinedTableError: relation "users" does not exist
api-1  | 
api-1  | The above exception was the direct cause of the following exception:
api-1  | 
api-1  | Traceback (most recent call last):
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
api-1  |     self.dialect.do_execute(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
api-1  |     cursor.execute(statement, parameters)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 568, in execute
api-1  |     self._adapt_connection.await_(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
api-1  |     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
api-1  |     value = await result
api-1  |             ^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 546, in _prepare_and_execute
api-1  |     self._handle_exception(error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 497, in _handle_exception
api-1  |     self._adapt_connection._handle_exception(error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 780, in _handle_exception
api-1  |     raise translated_error from error
api-1  | sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
api-1  | 
api-1  | The above exception was the direct cause of the following exception:
api-1  | 
api-1  | Traceback (most recent call last):
api-1  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
api-1  |     result = await app(  # type: ignore[func-returns-value]
api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
api-1  |     return await self.app(scope, receive, send)
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
api-1  |     await super().__call__(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
api-1  |     await self.middleware_stack(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
api-1  |     await self.app(scope, receive, _send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/prometheus_fastapi_instrumentator/middleware.py", line 169, in __call__
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/prometheus_fastapi_instrumentator/middleware.py", line 167, in __call__
api-1  |     await self.app(scope, receive, send_wrapper)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 185, in __call__
api-1  |     with collapse_excgroups():
api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 158, in __exit__
api-1  |     self.gen.throw(typ, value, traceback)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 187, in __call__
api-1  |     response = await self.dispatch_func(request, call_next)
api-1  |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/app/app/tracing.py", line 37, in tracer_middleware
api-1  |     response = await call_next(request)
api-1  |                ^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 163, in call_next
api-1  |     raise app_exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 149, in coro
api-1  |     await self.app(scope, receive_or_disconnect, send_no_error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
api-1  |     await self.simple_response(scope, receive, send, request_headers=headers)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
api-1  |     await self.app(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
api-1  |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
api-1  |     await app(scope, receive, sender)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 715, in __call__
api-1  |     await self.middleware_stack(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 735, in app
api-1  |     await route.handle(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
api-1  |     await self.app(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
api-1  |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
api-1  |     await app(scope, receive, sender)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
api-1  |     response = await f(request)
api-1  |                ^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
api-1  |     raw_response = await run_endpoint_function(
api-1  |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
api-1  |     return await dependant.call(**values)
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/app/app/auth.py", line 155, in verify_email_code
api-1  |     res = await conn.execute(
api-1  |           ^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 657, in execute
api-1  |     result = await greenlet_spawn(
api-1  |              ^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
api-1  |     result = context.throw(*sys.exc_info())
api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
api-1  |     return meth(
api-1  |            ^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
api-1  |     return connection._execute_clauseelement(
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
api-1  |     ret = self._execute_context(
api-1  |           ^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
api-1  |     return self._exec_single_context(
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
api-1  |     self._handle_dbapi_exception(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
api-1  |     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
api-1  |     self.dialect.do_execute(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
api-1  |     cursor.execute(statement, parameters)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 568, in execute
api-1  |     self._adapt_connection.await_(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
api-1  |     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
api-1  |     value = await result
api-1  |             ^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 546, in _prepare_and_execute
api-1  |     self._handle_exception(error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 497, in _handle_exception
api-1  |     self._adapt_connection._handle_exception(error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 780, in _handle_exception
api-1  |     raise translated_error from error
api-1  | sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
api-1  | [SQL: SELECT id::text FROM users WHERE email = $1]
api-1  | [parameters: ('126690699@qq.com',)]
api-1  | (Background on this error at: https://sqlalche.me/e/20/f405)
api-1  | INFO:     172.20.0.1:54266 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 500 Internal Server Error
api-1  | ERROR:    Exception in ASGI application
api-1  | Traceback (most recent call last):
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 510, in _prepare_and_execute
api-1  |     prepared_stmt, attributes = await adapt_connection._prepare(
api-1  |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 756, in _prepare
api-1  |     prepared_stmt = await self._connection.prepare(
api-1  |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/asyncpg/connection.py", line 635, in prepare
api-1  |     return await self._prepare(
api-1  |            ^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/asyncpg/connection.py", line 653, in _prepare
api-1  |     stmt = await self._get_statement(
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/asyncpg/connection.py", line 432, in _get_statement
api-1  |     statement = await self._protocol.prepare(
api-1  |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "asyncpg/protocol/protocol.pyx", line 165, in prepare
api-1  | asyncpg.exceptions.UndefinedTableError: relation "users" does not exist
api-1  | 
api-1  | The above exception was the direct cause of the following exception:
api-1  | 
api-1  | Traceback (most recent call last):
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
api-1  |     self.dialect.do_execute(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
api-1  |     cursor.execute(statement, parameters)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 568, in execute
api-1  |     self._adapt_connection.await_(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
api-1  |     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
api-1  |     value = await result
api-1  |             ^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 546, in _prepare_and_execute
api-1  |     self._handle_exception(error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 497, in _handle_exception
api-1  |     self._adapt_connection._handle_exception(error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 780, in _handle_exception
api-1  |     raise translated_error from error
api-1  | sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
api-1  | 
api-1  | The above exception was the direct cause of the following exception:
api-1  | 
api-1  | Traceback (most recent call last):
api-1  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
api-1  |     result = await app(  # type: ignore[func-returns-value]
api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
api-1  |     return await self.app(scope, receive, send)
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
api-1  |     await super().__call__(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
api-1  |     await self.middleware_stack(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
api-1  |     await self.app(scope, receive, _send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/prometheus_fastapi_instrumentator/middleware.py", line 169, in __call__
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/prometheus_fastapi_instrumentator/middleware.py", line 167, in __call__
api-1  |     await self.app(scope, receive, send_wrapper)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 185, in __call__
api-1  |     with collapse_excgroups():
api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 158, in __exit__
api-1  |     self.gen.throw(typ, value, traceback)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 187, in __call__
api-1  |     response = await self.dispatch_func(request, call_next)
api-1  |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/app/app/tracing.py", line 37, in tracer_middleware
api-1  |     response = await call_next(request)
api-1  |                ^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 163, in call_next
api-1  |     raise app_exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 149, in coro
api-1  |     await self.app(scope, receive_or_disconnect, send_no_error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
api-1  |     await self.simple_response(scope, receive, send, request_headers=headers)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
api-1  |     await self.app(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
api-1  |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
api-1  |     await app(scope, receive, sender)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 715, in __call__
api-1  |     await self.middleware_stack(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 735, in app
api-1  |     await route.handle(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
api-1  |     await self.app(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
api-1  |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
api-1  |     raise exc
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
api-1  |     await app(scope, receive, sender)
api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
api-1  |     response = await f(request)
api-1  |                ^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
api-1  |     raw_response = await run_endpoint_function(
api-1  |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
api-1  |     return await dependant.call(**values)
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/app/app/auth.py", line 155, in verify_email_code
api-1  |     res = await conn.execute(
api-1  |           ^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 657, in execute
api-1  |     result = await greenlet_spawn(
api-1  |              ^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
api-1  |     result = context.throw(*sys.exc_info())
api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
api-1  |     return meth(
api-1  |            ^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
api-1  |     return connection._execute_clauseelement(
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
api-1  |     ret = self._execute_context(
api-1  |           ^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
api-1  |     return self._exec_single_context(
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
api-1  |     self._handle_dbapi_exception(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
api-1  |     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
api-1  |     self.dialect.do_execute(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
api-1  |     cursor.execute(statement, parameters)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 568, in execute
api-1  |     self._adapt_connection.await_(
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
api-1  |     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
api-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
api-1  |     value = await result
api-1  |             ^^^^^^^^^^^^
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 546, in _prepare_and_execute
api-1  |     self._handle_exception(error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 497, in _handle_exception
api-1  |     self._adapt_connection._handle_exception(error)
api-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 780, in _handle_exception
api-1  |     raise translated_error from error
api-1  | sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
api-1  | [SQL: SELECT id::text FROM users WHERE email = $1]
api-1  | [parameters: ('126690699@qq.com',)]
api-1  | (Background on this error at: https://sqlalche.me/e/20/f405)
api-1  | INFO:     172.20.0.1:41472 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:42532 - "GET /api/v1/ai/conversations HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:42536 - "GET /api/v1/ai/conversations HTTP/1.1" 200 OK
api-1  | 871285
api-1  | INFO:     172.20.0.1:45530 - "POST /api/v1/auth/email/send-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:47628 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 401 Unauthorized
api-1  | INFO:     172.20.0.1:52720 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:36620 - "GET /api/v1/ai/conversations HTTP/1.1" 200 OK
api-1  | [Upload Init] No dedup hit, creating new upload for 鎶曡祫绗竴璇?Wx-Library).epub
api-1  | INFO:     172.20.0.1:33210 - "POST /api/v1/books/upload_init HTTP/1.1" 200 OK
api-1  | [Upload] Created book afe4dda7-c008-4d7c-8bd9-7676be9c0f85 for user 17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, SHA256=efec19620e0ce1e6..., title=鎶曡祫绗竴璇?Wx-Library)
api-1  | [Upload] Using Calibre for metadata extraction (format: epub)...
api-1  | INFO:     172.20.0.1:54664 - "POST /api/v1/books/upload_complete HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:34770 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/951c6afa-6ad9-48cc-86b1-e037b3967836: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('951c6afa-6ad9-48cc-86b1-e037b3967836', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', datetime.datetime(2025, 12, 26, 15, 51, 48, 729000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', 1, 0, datetime.datetime(2025, 12, 26, 15, 51, 49, 125904, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:34782 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/1bf5ab1e-4350-4804-9496-2435abf9e336: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('1bf5ab1e-4350-4804-9496-2435abf9e336', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/4!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 26, 15, 51, 50, 781685, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:34784 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/c30e950c-fe2d-44a5-8cad-ed5300927f92: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('c30e950c-fe2d-44a5-8cad-ed5300927f92', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/6!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 26, 15, 51, 55, 33455, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:53080 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/9f1b2b45-548a-4070-985e-1a84da8c69d7: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('9f1b2b45-548a-4070-985e-1a84da8c69d7', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/8!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 26, 15, 51, 57, 71274, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:53084 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/9f1b2b45-548a-4070-985e-1a84da8c69d7: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_progress" violates not-null constraint
api-1  | DETAIL:  Failing row contains (17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, 0, null, 2025-12-26 15:51:58.054674+00, null, null, null, null, null, 9f1b2b45-548a-4070-985e-1a84da8c69d7, null, epubcfi(/6/10!/4/2/2/1:0)).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, last_position, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, cast($4 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET last_position = EXCLUDED.last_position, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('9f1b2b45-548a-4070-985e-1a84da8c69d7', 'epubcfi(/6/10!/4/2/2/1:0)', datetime.datetime(2025, 12, 26, 15, 51, 58, 54674, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:53086 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:53094 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/6fd264c7-6fe9-4848-9305-f6a2ee381bb7: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('6fd264c7-6fe9-4848-9305-f6a2ee381bb7', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', datetime.datetime(2025, 12, 26, 15, 52, 1, 815000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', 1, 0, datetime.datetime(2025, 12, 26, 15, 52, 2, 83893, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:53100 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/3532b7a0-07ef-41cd-8785-8001505c3718: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('3532b7a0-07ef-41cd-8785-8001505c3718', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/4!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 26, 15, 52, 3, 917608, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:53110 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:43642 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiIwNDJlYzUzMy0xNzNkLTQ1ZDItYTJhNC0yN2QzODEzZjc0YjUiLCJpYXQiOjE3NjY3NjQyNTAsImV4cCI6MTc2Njg1MDY1MCwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.fYBVfZ8JupwQuEn9fKknUvmSlTibs7dSAdF8pSskgoM HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:53512 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/e9eb6415-77d1-4882-8755-3631119bdd50: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('e9eb6415-77d1-4882-8755-3631119bdd50', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', datetime.datetime(2025, 12, 26, 15, 54, 23, 262000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', 1, 0, datetime.datetime(2025, 12, 26, 15, 54, 23, 656716, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:53518 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/e252a87d-2668-450a-99d3-2dcea131ba3e: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('e252a87d-2668-450a-99d3-2dcea131ba3e', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/4!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 26, 15, 54, 25, 310121, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:58926 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/9dd239b7-75bd-42c0-8dc2-4ad84f2cea59: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('9dd239b7-75bd-42c0-8dc2-4ad84f2cea59', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/10!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 26, 15, 54, 30, 650740, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:58940 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:59230 - "GET /api/v1/ai/conversations HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:59240 - "GET /api/v1/ai/conversations HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:45262 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/6e01ec42-197a-41cf-bed4-91b67ab4a9da: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('6e01ec42-197a-41cf-bed4-91b67ab4a9da', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', datetime.datetime(2025, 12, 26, 15, 55, 2, 391000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', 1, 0, datetime.datetime(2025, 12, 26, 15, 55, 2, 756791, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:45276 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/e5480fd7-925f-40a5-8768-fe1ff394c6ee: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('e5480fd7-925f-40a5-8768-fe1ff394c6ee', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/4!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 26, 15, 55, 4, 420486, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:45282 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/2154af8e-6e5c-41ed-a980-547b23c0601a: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('2154af8e-6e5c-41ed-a980-547b23c0601a', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/22!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 26, 15, 55, 6, 726179, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:47658 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     Shutting down
api-1  | INFO:     Waiting for application shutdown.
api-1  | INFO:     Application shutdown complete.
api-1  | INFO:     Finished server process [1]
api-1  | INFO:     Started server process [1]
api-1  | INFO:     Waiting for application startup.
api-1  | INFO:     Application startup complete.
api-1  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
api-1  | 586924
api-1  | INFO:     172.20.0.1:47210 - "POST /api/v1/auth/email/send-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:57748 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:35388 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJkN2FlMTZmMS1jYjk5LTQ0ODYtOTMwNS05ODk0MzRmZGRmMTYiLCJpYXQiOjE3NjY4MTIzNzcsImV4cCI6MTc2Njg5ODc3NywiYXVkIjoiYXV0aGVudGljYXRlZCJ9.KafnYLDEbd5OOg58R4yLD6XMZBmV7p_s-pEvQFEsjYw HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:35390 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/734ede87-8990-48fd-8414-3ccc20924b13: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('734ede87-8990-48fd-8414-3ccc20924b13', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', datetime.datetime(2025, 12, 27, 5, 17, 24, 138000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', 1, 0, datetime.datetime(2025, 12, 27, 5, 17, 36, 2731, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:37184 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/32e145a5-b7b0-4c67-9b60-d6c90a7937fa: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('32e145a5-b7b0-4c67-9b60-d6c90a7937fa', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/4!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 17, 36, 63918, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:59172 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/734ede87-8990-48fd-8414-3ccc20924b13: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $2: 0 (a boolean is required (got type int))
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, $4, cast($5 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('734ede87-8990-48fd-8414-3ccc20924b13', 0, 3016, datetime.datetime(2025, 12, 27, 5, 17, 36, 403362, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:59174 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/734ede87-8990-48fd-8414-3ccc20924b13: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_sessions" violates not-null constraint
api-1  | DETAIL:  Failing row contains (734ede87-8990-48fd-8414-3ccc20924b13, 17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, null, t, 0, 2025-12-27 05:17:36.664425+00, 2025-12-27 05:17:36.664425+00, 2025-12-27 05:17:36.664731+00).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, user_id, updated_at)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3)
api-1  |         ON CONFLICT (id) DO UPDATE SET user_id = EXCLUDED.user_id, updated_at = EXCLUDED.updated_at
api-1  |     ]
api-1  | [parameters: ('734ede87-8990-48fd-8414-3ccc20924b13', '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99', datetime.datetime(2025, 12, 27, 5, 17, 36, 664731, tzinfo=tzutc()))]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:59190 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [Upload Init] No dedup hit, creating new upload for 鍦ｆ楠戝＋鍥細宕涜捣涓庨櫒钀?涓孤风惣鏂?epub
api-1  | INFO:     172.20.0.1:32890 - "POST /api/v1/books/upload_init HTTP/1.1" 200 OK
api-1  | [Upload] Created book 26cd333e-c175-4740-af91-0e7373d4f0a4 for user 17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, SHA256=b747da07bad1e3b6..., title=鍦ｆ楠戝＋鍥細宕涜捣涓庨櫒钀?涓孤风惣鏂?api-1  | [Upload] Using Calibre for metadata extraction (format: epub)...
api-1  | INFO:     172.20.0.1:32900 - "POST /api/v1/books/upload_complete HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:48596 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJkN2FlMTZmMS1jYjk5LTQ0ODYtOTMwNS05ODk0MzRmZGRmMTYiLCJpYXQiOjE3NjY4MTIzNzcsImV4cCI6MTc2Njg5ODc3NywiYXVkIjoiYXV0aGVudGljYXRlZCJ9.KafnYLDEbd5OOg58R4yLD6XMZBmV7p_s-pEvQFEsjYw HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:48612 - "PATCH /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/metadata HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:48056 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/07116f71-758b-49e0-9caf-138c3abc9897: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('07116f71-758b-49e0-9caf-138c3abc9897', '26cd333e-c175-4740-af91-0e7373d4f0a4', datetime.datetime(2025, 12, 27, 5, 18, 17, 989000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', 1, 0, datetime.datetime(2025, 12, 27, 5, 18, 18, 377173, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:48064 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/bd13c38a-60da-4a41-aae4-faf416c2059d: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('bd13c38a-60da-4a41-aae4-faf416c2059d', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/4!/4[0-0e7573157acf4133ab1098240cece141]/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 18, 20, 110693, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:48078 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/d325b27b-ce53-410c-9b15-4f2138a13cbd: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('d325b27b-ce53-410c-9b15-4f2138a13cbd', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/10!/4[2RHM0-0e7573157acf4133ab1098240cece141]/6/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 18, 22, 48828, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:48092 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/a3c8c7d4-d73e-448c-94e2-378deee12e46: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('a3c8c7d4-d73e-448c-94e2-378deee12e46', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/12!/4[3Q280-0e7573157acf4133ab1098240cece141]/2/2/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 18, 24, 89142, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:48094 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/257f603e-35c1-47e9-82bb-2b041a036ad9: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb' (invalid UUID 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('257f603e-35c1-47e9-82bb-2b041a036ad9', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjn1updl_8nt5wcqb', '{}', 'epubcfi(/6/16!/4/2[a007]/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 18, 26, 107166, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:35366 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | 399166
api-1  | INFO:     172.20.0.1:56668 - "POST /api/v1/auth/email/send-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:55106 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:58626 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiI5NmVkMTMwNC05YjY4LTRhYTUtYWM0Ni1kMDhlNjVkNzI1ZjEiLCJpYXQiOjE3NjY4MTMzODMsImV4cCI6MTc2Njg5OTc4MywiYXVkIjoiYXV0aGVudGljYXRlZCJ9.GnZ0Rs_QzxGH1C98wsYkja3vSqhsNyWXEBwekxyVmFY HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:58612 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiI5NmVkMTMwNC05YjY4LTRhYTUtYWM0Ni1kMDhlNjVkNzI1ZjEiLCJpYXQiOjE3NjY4MTMzODMsImV4cCI6MTc2Njg5OTc4MywiYXVkIjoiYXV0aGVudGljYXRlZCJ9.GnZ0Rs_QzxGH1C98wsYkja3vSqhsNyWXEBwekxyVmFY HTTP/1.1" 200 OK
api-1  | 554616
api-1  | INFO:     172.20.0.1:38570 - "POST /api/v1/auth/email/send-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:49588 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:49596 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJmMjgzZTE3Mi0wY2Q2LTRmMWYtODFjZi1lYzU2YjNlMzYzNTgiLCJpYXQiOjE3NjY4MTM0MTYsImV4cCI6MTc2Njg5OTgxNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.JbJpqotwfmZlZ83-oA8MBbE7SKehN6ed8VwYTxt67CY HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:49600 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJmMjgzZTE3Mi0wY2Q2LTRmMWYtODFjZi1lYzU2YjNlMzYzNTgiLCJpYXQiOjE3NjY4MTM0MTYsImV4cCI6MTc2Njg5OTgxNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.JbJpqotwfmZlZ83-oA8MBbE7SKehN6ed8VwYTxt67CY HTTP/1.1" 200 OK
api-1  | [Upload Init] No dedup hit, creating new upload for 缇庡浗-寮楁湕鑼峰崱澶崱.epub
api-1  | INFO:     172.20.0.1:52562 - "POST /api/v1/books/upload_init HTTP/1.1" 200 OK
api-1  | [Upload] Created book b5c6c498-0a6d-4a69-831e-2933f4743a2e for user 17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, SHA256=f273a43957e7dc0e..., title=缇庡浗-寮楁湕鑼峰崱澶崱
api-1  | [Upload] Using Calibre for metadata extraction (format: epub)...
api-1  | INFO:     172.20.0.1:52578 - "POST /api/v1/books/upload_complete HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:52588 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJmMjgzZTE3Mi0wY2Q2LTRmMWYtODFjZi1lYzU2YjNlMzYzNTgiLCJpYXQiOjE3NjY4MTM0MTYsImV4cCI6MTc2Njg5OTgxNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.JbJpqotwfmZlZ83-oA8MBbE7SKehN6ed8VwYTxt67CY HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:52596 - "PATCH /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/metadata HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:39234 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/b94e607a-ea3c-46b5-82c3-35681ec0340a: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('b94e607a-ea3c-46b5-82c3-35681ec0340a', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', datetime.datetime(2025, 12, 27, 5, 31, 0, 501000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, 0, datetime.datetime(2025, 12, 27, 5, 31, 0, 906948, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:39244 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/2eee539c-8c1b-4652-8a0e-29ff35008de2: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('2eee539c-8c1b-4652-8a0e-29ff35008de2', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/6!/4/4/2/2[magic_copyright_title]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 2, 542087, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:39248 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/28d80a93-fc25-4b32-8e49-6c047a850960: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('28d80a93-fc25-4b32-8e49-6c047a850960', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/24!/4/4/2/2[sigil_toc_id_8]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 17, 534303, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:51224 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/b7e95ec6-ce63-4060-b77d-27183af8655e: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('b7e95ec6-ce63-4060-b77d-27183af8655e', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/26!/4/4/2/2[sigil_toc_id_9]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 19, 549011, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:51234 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/bf465d2f-731c-4a33-8652-9b46eee4c3a1: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('bf465d2f-731c-4a33-8652-9b46eee4c3a1', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/30!/4/4/2/2[sigil_toc_id_11]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 21, 561332, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:51236 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/482d21b9-6412-4dd9-b5e5-6476c80b46bd: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('482d21b9-6412-4dd9-b5e5-6476c80b46bd', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/26!/4/4/2/2[sigil_toc_id_9]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 25, 36882, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:56310 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/9ccac81f-4641-49bb-b90c-47babf1d5cee: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('9ccac81f-4641-49bb-b90c-47babf1d5cee', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/24!/4/4/2/2[sigil_toc_id_8]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 30, 955959, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:56324 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/f4ae67b4-2b03-4d2b-ac17-a605783ad19f: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('f4ae67b4-2b03-4d2b-ac17-a605783ad19f', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/6!/4/4/2/2[magic_copyright_title]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 32, 959401, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:56336 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/8a5b7c59-66ca-458a-b830-014abffababd: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('8a5b7c59-66ca-458a-b830-014abffababd', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/12!/4/4/2/2[sigil_toc_id_2]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 35, 844098, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:45766 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/1458bc12-6330-4620-a46b-d625b80e2140: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('1458bc12-6330-4620-a46b-d625b80e2140', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/18!/4/4/2/2[sigil_toc_id_5]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 31, 39, 589839, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:45768 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/bf44d297-2e8b-4dee-8dad-34569c381b60: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('bf44d297-2e8b-4dee-8dad-34569c381b60', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/20!/4/4/2/2[sigil_toc_id_6]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 32, 7, 464373, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:45794 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/2b30c7de-3860-4a0b-9bc8-e26b0b1f884c: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('2b30c7de-3860-4a0b-9bc8-e26b0b1f884c', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/22!/4/4/2/2[sigil_toc_id_7]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 32, 9, 473970, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:45800 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/d19029be-68fb-4e52-9ce9-ca678ff98efe: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('d19029be-68fb-4e52-9ce9-ca678ff98efe', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/24!/4/4/2/2[sigil_toc_id_8]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 32, 13, 285946, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:45804 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/7774f7c5-c088-4a5c-987e-8b86f8c26d57: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('7774f7c5-c088-4a5c-987e-8b86f8c26d57', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/26!/4/4/2/2[sigil_toc_id_9]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 32, 22, 380906, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:41302 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/a4d75064-15cf-4cef-b36e-de197f1cec74: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('a4d75064-15cf-4cef-b36e-de197f1cec74', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/28!/4/4/2/2[sigil_toc_id_10]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 32, 24, 385419, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:40330 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/dc8928a5-0c9d-419d-b2ff-a04754f1467d: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('dc8928a5-0c9d-419d-b2ff-a04754f1467d', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/30!/4/4/2/2[sigil_toc_id_11]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 34, 27, 956448, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:38588 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/5796d0c9-5a62-47a5-9079-1979602b84b7: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('5796d0c9-5a62-47a5-9079-1979602b84b7', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/10!/4/4/2/2[sigil_toc_id_1]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 34, 36, 317273, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:54172 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/ffa54d09-653f-4f7e-8213-8616cadfe965: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('ffa54d09-653f-4f7e-8213-8616cadfe965', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/14!/4/4/2/2[sigil_toc_id_3]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 34, 39, 914791, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:54180 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/a792ea39-d87e-4d4c-8252-eb4c6ce5703d: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('a792ea39-d87e-4d4c-8252-eb4c6ce5703d', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/16!/4/4/2/2[sigil_toc_id_4]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 34, 44, 78895, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:54190 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/a25bd86b-00de-45f9-847c-7c89fa8cbabd: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, cast($6 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('a25bd86b-00de-45f9-847c-7c89fa8cbabd', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, datetime.datetime(2025, 12, 27, 5, 37, 29, 353632, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:33450 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:33456 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:40074 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:40076 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/5e57105f-d04c-48ee-8c41-fc54b5ffd3fc: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, cast($6 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('5e57105f-d04c-48ee-8c41-fc54b5ffd3fc', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, datetime.datetime(2025, 12, 27, 5, 38, 30, 962654, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:35440 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:35454 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:58356 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/content?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJmMjgzZTE3Mi0wY2Q2LTRmMWYtODFjZi1lYzU2YjNlMzYzNTgiLCJpYXQiOjE3NjY4MTM0MTYsImV4cCI6MTc2Njg5OTgxNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.JbJpqotwfmZlZ83-oA8MBbE7SKehN6ed8VwYTxt67CY HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:58372 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/eef3fcaa-53c9-4c19-8b63-fa8b99114b5f: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('eef3fcaa-53c9-4c19-8b63-fa8b99114b5f', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', datetime.datetime(2025, 12, 27, 5, 48, 43, 52000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, 0, datetime.datetime(2025, 12, 27, 5, 48, 43, 426951, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:58386 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/124ce86a-1efb-45b1-b627-24177850815f: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('124ce86a-1efb-45b1-b627-24177850815f', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/4!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 48, 45, 104836, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:60842 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/ce158d21-d759-4cf0-bc96-902bded6e88b: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('ce158d21-d759-4cf0-bc96-902bded6e88b', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/6!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 48, 49, 207437, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:60850 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/3a6a06aa-ac4d-4f0a-873d-74b1cf6926f6: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('3a6a06aa-ac4d-4f0a-873d-74b1cf6926f6', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/4!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 48, 51, 439189, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:60864 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/e593c0b9-f94b-4b82-9107-0dce92e125ef: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('e593c0b9-f94b-4b82-9107-0dce92e125ef', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/8!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 48, 53, 441558, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:60872 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/b7d5bb39-7e47-4727-bb33-cd2895a99680: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('b7d5bb39-7e47-4727-bb33-cd2895a99680', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/10!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 48, 56, 437565, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:38382 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/c2d4460e-74ad-4908-b981-8b08f6f06355: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('c2d4460e-74ad-4908-b981-8b08f6f06355', 'afe4dda7-c008-4d7c-8bd9-7676be9c0f85', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/38!/4/2/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 49, 2, 698462, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:38390 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:33328 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/content?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJmMjgzZTE3Mi0wY2Q2LTRmMWYtODFjZi1lYzU2YjNlMzYzNTgiLCJpYXQiOjE3NjY4MTM0MTYsImV4cCI6MTc2Njg5OTgxNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.JbJpqotwfmZlZ83-oA8MBbE7SKehN6ed8VwYTxt67CY HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:33332 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/c509371e-ee90-461e-94b6-f0582496124c: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('c509371e-ee90-461e-94b6-f0582496124c', '26cd333e-c175-4740-af91-0e7373d4f0a4', datetime.datetime(2025, 12, 27, 5, 49, 30, 95000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, 0, datetime.datetime(2025, 12, 27, 5, 49, 30, 472840, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:33346 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/674e6519-1886-48fc-9374-de9deec2173b: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('674e6519-1886-48fc-9374-de9deec2173b', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/4!/4[0-0e7573157acf4133ab1098240cece141]/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 49, 32, 149528, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:33362 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/ada394fd-9681-4b61-943d-26ad02823870: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('ada394fd-9681-4b61-943d-26ad02823870', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/10!/4[2RHM0-0e7573157acf4133ab1098240cece141]/6/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 49, 34, 342666, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:52796 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/cfab065f-a94a-46b3-8f0b-47667137fd0e: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('cfab065f-a94a-46b3-8f0b-47667137fd0e', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/24!/4/2[a011]/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 49, 44, 408839, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:54086 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/f0a728ee-6bb2-4bd7-ae78-0d438ea9bcf7: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('f0a728ee-6bb2-4bd7-ae78-0d438ea9bcf7', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/28!/4/2[b002]/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 49, 46, 420921, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:54094 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/e566a198-c3ca-44a0-9666-3f74630a5925: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('e566a198-c3ca-44a0-9666-3f74630a5925', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/30!/4/2[b003]/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 49, 53, 954175, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:54104 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/f3f599e3-d7ab-419e-a05a-e79bef34bed1: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('f3f599e3-d7ab-419e-a05a-e79bef34bed1', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/36!/4/2[b005]/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 49, 59, 4317, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:39686 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:43782 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/c4f5c069-0b16-4e5e-8e9c-f4e15a4e8e1a: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('c4f5c069-0b16-4e5e-8e9c-f4e15a4e8e1a', '26cd333e-c175-4740-af91-0e7373d4f0a4', datetime.datetime(2025, 12, 27, 5, 52, 29, 963000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, 0, datetime.datetime(2025, 12, 27, 5, 52, 30, 95367, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:43790 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/e1c80e64-ac76-446b-b0de-b24b72f26726: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('e1c80e64-ac76-446b-b0de-b24b72f26726', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/4!/4[0-0e7573157acf4133ab1098240cece141]/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 52, 32, 20128, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:43792 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:53254 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/bd2d11e8-5b25-48ef-9a98-9c1220b1dbbc: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('bd2d11e8-5b25-48ef-9a98-9c1220b1dbbc', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', datetime.datetime(2025, 12, 27, 5, 57, 10, 48000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, 0, datetime.datetime(2025, 12, 27, 5, 57, 10, 420087, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:53256 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/5b8e360b-f360-4aa7-aa85-b8e77013cdc8: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('5b8e360b-f360-4aa7-aa85-b8e77013cdc8', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/6!/4/4/2/2[magic_copyright_title]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 57, 12, 102778, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:53266 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/2c4809e2-7bdb-4388-9737-1188850cc295: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('2c4809e2-7bdb-4388-9737-1188850cc295', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/30!/4/4/2/2[sigil_toc_id_11]/2/1:0)', 0.987179487179487, datetime.datetime(2025, 12, 27, 5, 57, 20, 477310, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:47860 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:35548 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/fecdd9dd-7ac9-4165-81ea-3d0e08c23227: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('fecdd9dd-7ac9-4165-81ea-3d0e08c23227', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', datetime.datetime(2025, 12, 27, 5, 57, 35, 195000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, 0, datetime.datetime(2025, 12, 27, 5, 57, 35, 262436, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:35552 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/ac5e8339-9683-4c2a-847f-0a62c168f164: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('ac5e8339-9683-4c2a-847f-0a62c168f164', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/6!/4/4/2/2[magic_copyright_title]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 57, 37, 250471, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:35562 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/3563c0e0-eb34-4014-997b-50476e869322: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('3563c0e0-eb34-4014-997b-50476e869322', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/10!/4/4/2/2[sigil_toc_id_1]/2/1:0)', 0.00641025641025641, datetime.datetime(2025, 12, 27, 5, 57, 44, 98996, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:59702 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/f8c38730-8d3d-4f3c-be44-8ccea860efb0: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('f8c38730-8d3d-4f3c-be44-8ccea860efb0', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/12!/4/4/2/2[sigil_toc_id_2]/2/1:0)', 0.0128205128205128, datetime.datetime(2025, 12, 27, 5, 57, 46, 103747, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:59712 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/8d1ea5a8-75dd-4fd3-9b64-58b9a867e57e: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('8d1ea5a8-75dd-4fd3-9b64-58b9a867e57e', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', '{}', 'epubcfi(/6/30!/4/4/2/2[sigil_toc_id_11]/2/1:0)', 0.987179487179487, datetime.datetime(2025, 12, 27, 5, 57, 51, 181722, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:59716 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/185c294d-873f-4dcd-ba92-d5dd9f2839ec: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnv474l_ip8h41e4' (invalid UUID 'web_Mozilla50iPhone_mjnv474l_ip8h41e4': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, cast($6 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('185c294d-873f-4dcd-ba92-d5dd9f2839ec', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnv474l_ip8h41e4', 1, datetime.datetime(2025, 12, 27, 5, 58, 7, 535119, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:53802 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:53816 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | 705668
api-1  | INFO:     172.20.0.1:50372 - "POST /api/v1/auth/email/send-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:36060 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:36064 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJiMzM5ODQ5ZC0wYzMyLTQwMTAtYjdmNC1kMWMxMmI2YTViODMiLCJpYXQiOjE3NjY4MTUxMzYsImV4cCI6MTc2NjkwMTUzNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.kPJM77vSdfEsFaSCd1P4EfoSKETeImNRNIKwlAIE0_o HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:36076 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJiMzM5ODQ5ZC0wYzMyLTQwMTAtYjdmNC1kMWMxMmI2YTViODMiLCJpYXQiOjE3NjY4MTUxMzYsImV4cCI6MTc2NjkwMTUzNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.kPJM77vSdfEsFaSCd1P4EfoSKETeImNRNIKwlAIE0_o HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:36086 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJiMzM5ODQ5ZC0wYzMyLTQwMTAtYjdmNC1kMWMxMmI2YTViODMiLCJpYXQiOjE3NjY4MTUxMzYsImV4cCI6MTc2NjkwMTUzNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.kPJM77vSdfEsFaSCd1P4EfoSKETeImNRNIKwlAIE0_o HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:36094 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/content?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiJiMzM5ODQ5ZC0wYzMyLTQwMTAtYjdmNC1kMWMxMmI2YTViODMiLCJpYXQiOjE3NjY4MTUxMzYsImV4cCI6MTc2NjkwMTUzNiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.kPJM77vSdfEsFaSCd1P4EfoSKETeImNRNIKwlAIE0_o HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:47456 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/9711c3f8-4d81-4c98-9af6-5cc1d86414fd: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg' (invalid UUID 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('9711c3f8-4d81-4c98-9af6-5cc1d86414fd', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', datetime.datetime(2025, 12, 27, 5, 59, 11, 537000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg', 1, 0, datetime.datetime(2025, 12, 27, 5, 59, 11, 941009, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:47472 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/39e673f3-a90d-418f-ba33-c11a24689296: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg' (invalid UUID 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('39e673f3-a90d-418f-ba33-c11a24689296', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg', '{}', 'epubcfi(/6/6!/4/4/2/2[magic_copyright_title]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 5, 59, 13, 595498, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:47474 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/1dadd397-c931-4ab4-84d2-1780404a6267: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg' (invalid UUID 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('1dadd397-c931-4ab4-84d2-1780404a6267', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg', '{}', 'epubcfi(/6/30!/4/4/2/2[sigil_toc_id_11]/2/1:0)', 0.987179487179487, datetime.datetime(2025, 12, 27, 5, 59, 17, 469983, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:52456 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/4b7ba07a-9fb9-427a-9cc5-3469c8e87cec: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg' (invalid UUID 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, cast($6 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('4b7ba07a-9fb9-427a-9cc5-3469c8e87cec', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg', 1, datetime.datetime(2025, 12, 27, 5, 59, 22, 231002, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:52460 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:52472 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     Shutting down
api-1  | INFO:     Waiting for application shutdown.
api-1  | INFO:     Application shutdown complete.
api-1  | INFO:     Finished server process [1]
api-1  | INFO:     Started server process [1]
api-1  | INFO:     Waiting for application startup.
api-1  | INFO:     Application startup complete.
api-1  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
api-1  | INFO:     Shutting down
api-1  | INFO:     Waiting for application shutdown.
api-1  | INFO:     Application shutdown complete.
api-1  | INFO:     Finished server process [1]
api-1  | INFO:     Started server process [1]
api-1  | INFO:     Waiting for application startup.
api-1  | INFO:     Application startup complete.
api-1  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
api-1  | INFO:     172.20.0.1:37308 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/5d49a574-ac6f-44ab-9e9e-433cd79a69e6: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg' (invalid UUID 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('5d49a574-ac6f-44ab-9e9e-433cd79a69e6', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', datetime.datetime(2025, 12, 27, 6, 10, 8, 799000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg', 1, 0, datetime.datetime(2025, 12, 27, 6, 10, 8, 875018, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:37314 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/8d67899c-d68b-4f3c-aa43-3293ed70bad0: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg' (invalid UUID 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('8d67899c-d68b-4f3c-aa43-3293ed70bad0', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg', '{}', 'epubcfi(/6/6!/4/4/2/2[magic_copyright_title]/2/1:0)', 0, datetime.datetime(2025, 12, 27, 6, 10, 10, 858358, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:37324 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/9ab6a7c1-47f6-462e-a91d-a249a8adaf54: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg' (invalid UUID 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('9ab6a7c1-47f6-462e-a91d-a249a8adaf54', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg', '{}', 'epubcfi(/6/30!/4/4/2/2[sigil_toc_id_11]/2/1:0)', 0.987179487179487, datetime.datetime(2025, 12, 27, 6, 10, 30, 244397, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:52780 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/420fcf31-ef09-481e-b715-a6a28d9d0282: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg' (invalid UUID 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('420fcf31-ef09-481e-b715-a6a28d9d0282', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', 'web_Mozilla50iPhone_mjnw4fxt_4tm9setg', '{}', 'epubcfi(/6/28!/4/4/2/2[sigil_toc_id_10]/2/1:0)', 0.903846153846154, datetime.datetime(2025, 12, 27, 6, 10, 33, 579078, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:52786 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | 029509
api-1  | INFO:     172.20.0.1:47902 - "POST /api/v1/auth/email/send-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:56962 - "POST /api/v1/auth/email/verify-code HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:55944 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiIyZmZhNjk5Mi02MDVhLTQ1YjQtYjIxZS0xODkyYmE3NDVkZmQiLCJpYXQiOjE3NjY4MTU4ODIsImV4cCI6MTc2NjkwMjI4MiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.6ADgZSDMLfO8mkXserI5wo7B-G40fTcmrWcqInROxzE HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:55960 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiIyZmZhNjk5Mi02MDVhLTQ1YjQtYjIxZS0xODkyYmE3NDVkZmQiLCJpYXQiOjE3NjY4MTU4ODIsImV4cCI6MTc2NjkwMjI4MiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.6ADgZSDMLfO8mkXserI5wo7B-G40fTcmrWcqInROxzE HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:55966 - "GET /api/v1/books/afe4dda7-c008-4d7c-8bd9-7676be9c0f85/cover?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiIyZmZhNjk5Mi02MDVhLTQ1YjQtYjIxZS0xODkyYmE3NDVkZmQiLCJpYXQiOjE3NjY4MTU4ODIsImV4cCI6MTc2NjkwMjI4MiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.6ADgZSDMLfO8mkXserI5wo7B-G40fTcmrWcqInROxzE HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:55974 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/content?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiIyZmZhNjk5Mi02MDVhLTQ1YjQtYjIxZS0xODkyYmE3NDVkZmQiLCJpYXQiOjE3NjY4MTU4ODIsImV4cCI6MTc2NjkwMjI4MiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.6ADgZSDMLfO8mkXserI5wo7B-G40fTcmrWcqInROxzE HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/108db6f4-b770-409a-b7d5-b41571b8200f: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, finished_at, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, cast($7 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, finished_at = EXCLUDED.finished_at, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('108db6f4-b770-409a-b7d5-b41571b8200f', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', datetime.datetime(2025, 12, 27, 6, 11, 54, 983000, tzinfo=tzutc()), 1, datetime.datetime(2025, 12, 27, 6, 11, 55, 25120, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:40586 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:40588 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:48730 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/98ef80b8-81d5-4e12-9f07-bb4ff7ce8bcf: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('98ef80b8-81d5-4e12-9f07-bb4ff7ce8bcf', '26cd333e-c175-4740-af91-0e7373d4f0a4', datetime.datetime(2025, 12, 27, 6, 12, 10, 15000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', 1, 0, datetime.datetime(2025, 12, 27, 6, 12, 10, 412444, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:48734 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/3d2b1be8-7199-4f5a-bbf2-9e1396404a24: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('3d2b1be8-7199-4f5a-bbf2-9e1396404a24', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/4!/4[0-0e7573157acf4133ab1098240cece141]/1:0)', 0, datetime.datetime(2025, 12, 27, 6, 12, 12, 63229, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:48738 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/305728ae-31c0-4327-84be-60e8dab8bd6b: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('305728ae-31c0-4327-84be-60e8dab8bd6b', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/10!/4[2RHM0-0e7573157acf4133ab1098240cece141]/6/1:0)', 0, datetime.datetime(2025, 12, 27, 6, 12, 14, 105204, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:37378 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/9cc299a3-8ce7-4aac-a857-f2e32ad9c7dd: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('9cc299a3-8ce7-4aac-a857-f2e32ad9c7dd', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/12!/4[3Q280-0e7573157acf4133ab1098240cece141]/2/2/2/1:0)', 0.0102827763496144, datetime.datetime(2025, 12, 27, 6, 12, 23, 541188, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:37390 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/543ebc99-6329-4fb5-8526-0cbca61c37eb: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('543ebc99-6329-4fb5-8526-0cbca61c37eb', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/14!/4/2[a006]/1:0)', 0.012853470437018, datetime.datetime(2025, 12, 27, 6, 12, 27, 473462, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:57668 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/caef011d-63f4-412a-beaf-82b8a5483b71: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('caef011d-63f4-412a-beaf-82b8a5483b71', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/56!/4/2[b014]/1:0)', 0.503856041131105, datetime.datetime(2025, 12, 27, 6, 12, 35, 529810, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:47682 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/36e47695-28fb-458e-8f2c-420954ed7e2e: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('36e47695-28fb-458e-8f2c-420954ed7e2e', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/58!/4/2[b015]/1:0)', 0.552699228791774, datetime.datetime(2025, 12, 27, 6, 12, 38, 254454, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:47684 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/9437e0d9-70d1-47ad-9056-92f28c14f904: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('9437e0d9-70d1-47ad-9056-92f28c14f904', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/60!/4/2[b016]/1:0)', 0.593830334190231, datetime.datetime(2025, 12, 27, 6, 12, 40, 486980, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:47692 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/f93576a2-77fb-43b0-9ebd-1bf0afc07605: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('f93576a2-77fb-43b0-9ebd-1bf0afc07605', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/62!/4/2[a014]/1:0)', 0.637532133676093, datetime.datetime(2025, 12, 27, 6, 12, 42, 474012, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:47694 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:54600 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/d25af94e-e2a1-4310-ac9e-32f71bfd440a: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, cast($4 as uuid), $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('d25af94e-e2a1-4310-ac9e-32f71bfd440a', '26cd333e-c175-4740-af91-0e7373d4f0a4', datetime.datetime(2025, 12, 27, 6, 12, 53, 95000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', 1, 0, datetime.datetime(2025, 12, 27, 6, 12, 53, 181093, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:54604 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/f0258a88-7021-4155-8a4a-e64d01121140: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $3: 'web_Mozilla50iPhone_mjnwkt0n_v06krwti' (invalid UUID 'web_Mozilla50iPhone_mjnwkt0n_v06krwti': length must be between 32..36 characters, got 37)
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, book_id, device_id, last_location, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), cast($3 as uuid), $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, device_id = EXCLUDED.device_id, last_location = EXCLUDED.last_location, last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('f0258a88-7021-4155-8a4a-e64d01121140', '26cd333e-c175-4740-af91-0e7373d4f0a4', 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', '{}', 'epubcfi(/6/4!/4[0-0e7573157acf4133ab1098240cece141]/1:0)', 0, datetime.datetime(2025, 12, 27, 6, 12, 55, 146366, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:57710 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     Shutting down
api-1  | INFO:     Waiting for application shutdown.
api-1  | INFO:     Application shutdown complete.
api-1  | INFO:     Finished server process [1]
api-1  | INFO:     Started server process [1]
api-1  | INFO:     Waiting for application startup.
api-1  | INFO:     Application startup complete.
api-1  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
api-1  | INFO:     172.20.0.1:60590 - "GET /api/v1/books/26cd333e-c175-4740-af91-0e7373d4f0a4/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/edb72b0c-1617-4abd-b36b-71de0da111a8: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $5: 1 (a boolean is required (got type int))
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('edb72b0c-1617-4abd-b36b-71de0da111a8', '26cd333e-c175-4740-af91-0e7373d4f0a4', datetime.datetime(2025, 12, 27, 6, 24, 25, 596000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', 1, 0, datetime.datetime(2025, 12, 27, 6, 24, 25, 674446, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:60602 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:60610 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/48a69889-5810-4e70-9598-8b4b24dddf30: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_progress" violates not-null constraint
api-1  | DETAIL:  Failing row contains (17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, 0, null, 2025-12-27 06:24:36.237911+00, null, null, null, null, null, 48a69889-5810-4e70-9598-8b4b24dddf30, null, epubcfi(/6/6!/4[UGI0-0e7573157acf4133ab1098240cece141]/4/1:0)).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, last_position, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, cast($4 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET last_position = EXCLUDED.last_position, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('48a69889-5810-4e70-9598-8b4b24dddf30', 'epubcfi(/6/6!/4[UGI0-0e7573157acf4133ab1098240cece141]/4/1:0)', datetime.datetime(2025, 12, 27, 6, 24, 36, 237911, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:50316 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/48a69889-5810-4e70-9598-8b4b24dddf30: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_progress" violates not-null constraint
api-1  | DETAIL:  Failing row contains (17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, 0.0205655526992288006926656862560776062309741973876953125, null, 2025-12-27 06:24:38.143566+00, null, null, null, null, null, 48a69889-5810-4e70-9598-8b4b24dddf30, null, epubcfi(/6/18!/4/1:0)).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, $4, cast($5 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('48a69889-5810-4e70-9598-8b4b24dddf30', 'epubcfi(/6/18!/4/1:0)', 0.0205655526992288, datetime.datetime(2025, 12, 27, 6, 24, 38, 143566, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:50326 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/48a69889-5810-4e70-9598-8b4b24dddf30: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_progress" violates not-null constraint
api-1  | DETAIL:  Failing row contains (17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, 0.151670951156812006122009961472940631210803985595703125, null, 2025-12-27 06:24:42.159686+00, null, null, null, null, null, 48a69889-5810-4e70-9598-8b4b24dddf30, null, epubcfi(/6/32!/4/2[b004]/1:0)).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, $4, cast($5 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('48a69889-5810-4e70-9598-8b4b24dddf30', 'epubcfi(/6/32!/4/2[b004]/1:0)', 0.151670951156812, datetime.datetime(2025, 12, 27, 6, 24, 42, 159686, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:50328 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/48a69889-5810-4e70-9598-8b4b24dddf30: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_progress" violates not-null constraint
api-1  | DETAIL:  Failing row contains (17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, 0.1902313624678660108902050751567003317177295684814453125, null, 2025-12-27 06:24:46.879813+00, null, null, null, null, null, 48a69889-5810-4e70-9598-8b4b24dddf30, null, epubcfi(/6/34!/4/2[a012]/1:0)).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, $4, cast($5 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('48a69889-5810-4e70-9598-8b4b24dddf30', 'epubcfi(/6/34!/4/2[a012]/1:0)', 0.190231362467866, datetime.datetime(2025, 12, 27, 6, 24, 46, 879813, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:40298 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/48a69889-5810-4e70-9598-8b4b24dddf30: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_progress" violates not-null constraint
api-1  | DETAIL:  Failing row contains (17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, 0.192802056555269996085399952789884991943836212158203125, null, 2025-12-27 06:24:48.884392+00, null, null, null, null, null, 48a69889-5810-4e70-9598-8b4b24dddf30, null, epubcfi(/6/36!/4/2[b005]/1:0)).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, $4, cast($5 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('48a69889-5810-4e70-9598-8b4b24dddf30', 'epubcfi(/6/36!/4/2[b005]/1:0)', 0.19280205655527, datetime.datetime(2025, 12, 27, 6, 24, 48, 884392, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:40314 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/48a69889-5810-4e70-9598-8b4b24dddf30: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_progress" violates not-null constraint
api-1  | DETAIL:  Failing row contains (17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, 1, null, 2025-12-27 06:24:53.133693+00, 2025-12-27 06:24:53.087+00, null, null, null, null, 48a69889-5810-4e70-9598-8b4b24dddf30, null, null).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, finished_at, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, $4, cast($5 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET finished_at = EXCLUDED.finished_at, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('48a69889-5810-4e70-9598-8b4b24dddf30', datetime.datetime(2025, 12, 27, 6, 24, 53, 87000, tzinfo=tzutc()), 1, datetime.datetime(2025, 12, 27, 6, 24, 53, 133693, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:40324 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:40326 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:38070 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/content?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzk4N2NmNC1jZTVlLTRhZTAtYmZlNS01YjNjOTg5YTJhOTkiLCJzaWQiOiIyZmZhNjk5Mi02MDVhLTQ1YjQtYjIxZS0xODkyYmE3NDVkZmQiLCJpYXQiOjE3NjY4MTU4ODIsImV4cCI6MTc2NjkwMjI4MiwiYXVkIjoiYXV0aGVudGljYXRlZCJ9.6ADgZSDMLfO8mkXserI5wo7B-G40fTcmrWcqInROxzE HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:40918 - "GET /api/v1/books/b5c6c498-0a6d-4a69-831e-2933f4743a2e/ocr HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_sessions/15815a9c-1ecf-4f84-afc5-6396c2768c2e: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $5: 1 (a boolean is required (got type int))
api-1  | [SQL: 
api-1  |         INSERT INTO reading_sessions (id, book_id, created_at, device_id, is_active, total_ms, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), cast($2 as uuid), $3, $4, $5, $6, $7, cast($8 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET book_id = EXCLUDED.book_id, created_at = EXCLUDED.created_at, device_id = EXCLUDED.device_id, is_active = EXCLUDED.is_active, total_ms = EXCLUDED.total_ms, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('15815a9c-1ecf-4f84-afc5-6396c2768c2e', 'b5c6c498-0a6d-4a69-831e-2933f4743a2e', datetime.datetime(2025, 12, 27, 6, 25, 38, 738000, tzinfo=tzutc()), 'web_Mozilla50iPhone_mjnwkt0n_v06krwti', 1, 0, datetime.datetime(2025, 12, 27, 6, 25, 39, 98369, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/dbapi)
api-1  | INFO:     172.20.0.1:40922 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | INFO:     172.20.0.1:40930 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
api-1  | [PowerSync] Error processing reading_progress/2c560756-2d4b-462d-b79a-3c7583096c82: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "book_id" of relation "reading_progress" violates not-null constraint
api-1  | DETAIL:  Failing row contains (17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99, null, 0.32692307692307698285816286443150602281093597412109375, null, 2025-12-27 06:25:44.44487+00, null, null, null, null, null, 2c560756-2d4b-462d-b79a-3c7583096c82, null, epubcfi(/6/20!/4/4/2/2[sigil_toc_id_6]/2/1:0)).
api-1  | [SQL: 
api-1  |         INSERT INTO reading_progress (id, last_position, progress, updated_at, user_id)
api-1  |         VALUES (cast($1 as uuid), $2, $3, $4, cast($5 as uuid))
api-1  |         ON CONFLICT (id) DO UPDATE SET last_position = EXCLUDED.last_position, progress = EXCLUDED.progress, updated_at = EXCLUDED.updated_at, user_id = EXCLUDED.user_id
api-1  |     ]
api-1  | [parameters: ('2c560756-2d4b-462d-b79a-3c7583096c82', 'epubcfi(/6/20!/4/4/2/2[sigil_toc_id_6]/2/1:0)', 0.326923076923077, datetime.datetime(2025, 12, 27, 6, 25, 44, 444870, tzinfo=tzutc()), '17987cf4-ce5e-4ae0-bfe5-5b3c989a2a99')]
api-1  | (Background on this error at: https://sqlalche.me/e/20/gkpj)
api-1  | INFO:     172.20.0.1:41868 - "POST /api/v1/sync/upload HTTP/1.1" 200 OK
